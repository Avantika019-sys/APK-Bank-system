
#include <iostream>

std::ostream &operator<<(std::ostream &os, const Tx &t) {
  struct ToString {
    std::string operator()(const assetSellDetails &arg) {}
    std::string operator()(assetPurchaseDetails arg) {}
    std::string operator()(withdrawDetails arg) {
      return " transaction type: withdrawal\nAmount withdrawn: " +
             std::to_string(arg.amountWithdrawn_);
    }
    std::string operator()(depositDetails arg) {
      return " transaction type: deposit\nAmount depositted: " +
             std::to_string(arg.amountDepositted_);
    }
  };
  std::string detailsStr = std::visit(ToString{}, t.getDetails());
  os << "Transaction created at: " << t.getCreatedAt() << detailsStr
     << std::endl;
  return os;
}
} // namespace bank
